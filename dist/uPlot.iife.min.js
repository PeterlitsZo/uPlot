/*! https://github.com/leeoniya/uPlot (v1.6.32) */
var uPlot=function(){"use strict";function e(e,l,t,n){let i;t=t||0;let o=2147483647>=(n=n||l.length-1);for(;n-t>1;)i=o?t+n>>1:b((t+n)/2),e>l[i]?t=i:n=i;return e-l[t]>l[n]-e?n:t}function l(e){return(l,t,n)=>{let i=-1,o=-1;for(let o=t;n>=o;o++)if(e(l[o])){i=o;break}for(let i=n;i>=t;i--)if(e(l[i])){o=i;break}return[i,o]}}const t=e=>null!=e,n=e=>null!=e&&e>0,i=l(t),o=l(n);function s(e,l,t,n){2==t&&(n=!0);let i=S(e),o=S(l);e==l&&(-1==i?(e*=t,l/=t):(e/=t,l*=t));let s=10==t?T:E,r=1==i?b:v,u=1==o?v:b,a=s(w(e)),f=s(w(l)),c=r(a),h=u(f),d=M(t,c),p=M(t,h);return 10==t&&(0>c&&(d=B(d,-c)),0>h&&(p=B(p,-h))),n?(e=d*i,l=p*o):(e=N(e,M(t,b(a)),!1),l=j(l,M(t,b(f)),!1)),[e,l]}function r(e,l,t,n){let i=s(e,l,t,n);return 0==e&&(i[0]=0),0==l&&(i[1]=0),i}const u={mode:3,pad:.1},a={pad:0,soft:null,mode:0},f={min:a,max:a};function c(e,l,t,n){return ee(t)?d(e,l,t):(a.pad=t,a.soft=n?0:null,a.mode=n?3:0,d(e,l,f))}function h(e,l){return null==e?l:e}function d(e,l,t){let n=t.min,i=t.max,o=h(n.pad,0),s=h(i.pad,0),r=h(n.hard,-D),u=h(i.hard,D),a=h(n.soft,D),f=h(i.soft,-D),c=h(n.mode,0),d=h(i.mode,0),p=l-e,m=T(p),g=y(w(e),w(l)),x=T(g),_=w(x-m);(1e-24>p||_>10)&&(p=0,0!=e&&0!=l||(p=1e-24,2==c&&a!=D&&(o=0),2==d&&f!=-D&&(s=0)));let v=p||g||1e3,S=T(v),E=M(10,b(S)),z=B(N(e-v*(0==p?0==e?.1:1:o),E/10),24),P=a>e||1!=c&&(3!=c||z>a)&&(2!=c||a>z)?D:a,A=y(r,P>z&&e>=P?P:k(P,z)),W=B(j(l+v*(0==p?0==l?.1:1:s),E/10),24),R=l>f||1!=d&&(3!=d||f>W)&&(2!=d||W>f)?-D:f,Y=k(u,W>R&&R>=l?R:y(R,W));return A==Y&&0==A&&(Y=100),[A,Y]}const p=new Intl.NumberFormat,m=e=>p.format(e),g=Math,x=g.PI,w=g.abs,b=g.floor,_=g.round,v=g.ceil,k=g.min,y=g.max,M=g.pow,S=g.sign,T=g.log10,E=g.log2,z=(e,l=1)=>g.asinh(e/l),D=1/0;function P(e){return 1+(0|T((e^e>>31)-(e>>31)))}function A(e,l,t){return k(y(e,l),t)}function W(e){return"function"==typeof e}function R(e){return W(e)?e:()=>e}const Y=e=>e,C=(e,l)=>l,H=()=>null,F=()=>!0,G=(e,l)=>e==l,I=/\.\d*?(?=9{6,}|0{6,})/gm,L=e=>{if(K(e)||U.has(e))return e;const l=""+e,t=l.match(I);if(null==t)return e;let n=t[0].length-1;if(-1!=l.indexOf("e-")){let[e,t]=l.split("e");return+`${L(e)}e${t}`}return B(e,n)};function O(e,l,t=!0){return t?L(B(L(e/l))*l):B(e/l)*l}function j(e,l,t=!0){return t?L(v(L(e/l))*l):v(e/l)*l}function N(e,l,t=!0){return t?L(b(L(e/l))*l):b(e/l)*l}function B(e,l=0){if(K(e))return e;let t=10**l;return _(e*t*(1+Number.EPSILON))/t}const U=new Map;function V(e){return((""+e).split(".")[1]||"").length}function $(e,l,t,n){let i=[],o=n.map(V);for(let s=l;t>s;s++){let l=w(s),t=B(M(e,s),l);for(let r=0;n.length>r;r++){let u=10==e?+`${n[r]}e${s}`:n[r]*t,a=(0>s?l:0)+(o[r]>s?o[r]:0),f=10==e?u:B(u,a);i.push(f),U.set(f,a)}}return i}const Z={},J=[],q=[null,null],X=Array.isArray,K=Number.isInteger;function Q(e){return"string"==typeof e}function ee(e){let l=!1;if(null!=e){let t=e.constructor;l=null==t||t==Object}return l}function le(e){return null!=e&&"object"==typeof e}const te=Object.getPrototypeOf(Uint8Array),ne="__proto__";function ie(e,l=ee){let t;if(X(e)){let n=e.find(e=>null!=e);if(X(n)||l(n)){t=Array(e.length);for(let n=0;e.length>n;n++)t[n]=ie(e[n],l)}else t=e.slice()}else if(e instanceof te)t=e.slice();else if(l(e)){t={};for(let n in e)n!=ne&&(t[n]=ie(e[n],l))}else t=e;return t}function oe(e){let l=arguments;for(let t=1;l.length>t;t++){let n=l[t];for(let l in n)l!=ne&&(ee(e[l])?oe(e[l],ie(n[l])):e[l]=ie(n[l]))}return e}function se(e,l,t){for(let n,i=0,o=-1;l.length>i;i++){let s=l[i];if(s>o){for(n=s-1;n>=0&&null==e[n];)e[n--]=null;for(n=s+1;t>n&&null==e[n];)e[o=n++]=null}}}const re="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask,ue="width",ae="height",fe="top",ce="bottom",he="left",de="right",pe="#000",me=pe+"0",ge="mousemove",xe="mousedown",we="mouseup",be="mouseenter",_e="mouseleave",ve="dblclick",ke="change",ye="dppxchange",Me="--",Se="u-off",Te="u-label",Ee="undefined"!=typeof window,ze=Ee?document:null,De=Ee?window:null;let Pe,Ae;function We(e,l){if(null!=l){let t=e.classList;!t.contains(l)&&t.add(l)}}function Re(e,l){let t=e.classList;t.contains(l)&&t.remove(l)}function Ye(e,l,t){e.style[l]=t+"px"}function Ce(e,l,t,n){let i=ze.createElement(e);return null!=l&&We(i,l),null!=t&&t.insertBefore(i,n),i}function He(e,l){return Ce("div",e,l)}const Fe=new WeakMap;function Ge(e,l,t,n,i){let o="translate("+l+"px,"+t+"px)";o!=Fe.get(e)&&(e.style.transform=o,Fe.set(e,o),0>l||0>t||l>n||t>i?We(e,Se):Re(e,Se))}const Ie=new WeakMap;function Le(e,l,t){let n=l+t;n!=Ie.get(e)&&(Ie.set(e,n),e.style.background=l,e.style.borderColor=t)}const Oe=new WeakMap;function je(e,l,t,n){let i=l+""+t;i!=Oe.get(e)&&(Oe.set(e,i),e.style.height=t+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-t/2+"px":0)}const Ne={passive:!0},Be={...Ne,capture:!0};function Ue(e,l,t,n){l.addEventListener(e,t,n?Be:Ne)}function Ve(e,l,t){l.removeEventListener(e,t,Ne)}Ee&&function e(){let l=devicePixelRatio;Pe!=l&&(Pe=l,Ae&&Ve(ke,Ae,e),Ae=matchMedia(`(min-resolution: ${Pe-.001}dppx) and (max-resolution: ${Pe+.001}dppx)`),Ue(ke,Ae,e),De.dispatchEvent(new CustomEvent(ye)))}();const $e=["January","February","March","April","May","June","July","August","September","October","November","December"],Ze=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Je(e){return e.slice(0,3)}const qe=Ze.map(Je),Xe=$e.map(Je),Ke={MMMM:$e,MMM:Xe,WWWW:Ze,WWW:qe};function Qe(e){return(10>e?"0":"")+e}const el={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>Qe(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>Qe(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>Qe(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return 0==l?12:l>12?l-12:l},AA:e=>12>e.getHours()?"AM":"PM",aa:e=>12>e.getHours()?"am":"pm",a:e=>12>e.getHours()?"a":"p",mm:e=>Qe(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>Qe(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>function(e){return(10>e?"00":100>e?"0":"")+e}(e.getMilliseconds())};function ll(e,l){l=l||Ke;let t,n=[],i=/\{([a-z]+)\}|[^{]+/gi;for(;t=i.exec(e);)n.push("{"==t[0][0]?el[t[1]]:t[0]);return e=>{let t="";for(let i=0;n.length>i;i++)t+="string"==typeof n[i]?n[i]:n[i](e,l);return t}}const tl=(new Intl.DateTimeFormat).resolvedOptions().timeZone,nl=e=>e%1==0,il=[1,2,2.5,5],ol=$(10,-32,0,il),sl=$(10,0,32,il),rl=sl.filter(nl),ul=ol.concat(sl),al="{YYYY}",fl="\n"+al,cl="{M}/{D}",hl="\n"+cl,dl=hl+"/{YY}",pl="{aa}",ml="{h}:{mm}"+pl,gl="\n"+ml,xl=":{ss}",wl=null;function bl(e){let l=1e3*e,t=60*l,n=60*t,i=24*n,o=30*i,s=365*i;return[(1==e?$(10,0,3,il).filter(nl):$(10,-3,0,il)).concat([l,5*l,10*l,15*l,30*l,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,s,2*s,5*s,10*s,25*s,50*s,100*s]),[[s,al,wl,wl,wl,wl,wl,wl,1],[28*i,"{MMM}",fl,wl,wl,wl,wl,wl,1],[i,cl,fl,wl,wl,wl,wl,wl,1],[n,"{h}"+pl,dl,wl,hl,wl,wl,wl,1],[t,ml,dl,wl,hl,wl,wl,wl,1],[l,xl,dl+" "+ml,wl,hl+" "+ml,wl,gl,wl,1],[e,xl+".{fff}",dl+" "+ml,wl,hl+" "+ml,wl,gl,wl,1]],function(l){return(r,u,a,f,c,h)=>{let d=[],p=c>=s,m=c>=o&&s>c,g=l(a),x=B(g*e,3),w=zl(g.getFullYear(),p?0:g.getMonth(),m||p?1:g.getDate()),v=B(w*e,3);if(m||p){let t=m?c/o:0,n=p?c/s:0,i=x==v?x:B(zl(w.getFullYear()+n,w.getMonth()+t,1)*e,3),r=new Date(_(i/e)),u=r.getFullYear(),a=r.getMonth();for(let o=0;f>=i;o++){let s=zl(u+n*o,a+t*o,1),r=s-l(B(s*e,3));i=B((+s+r)*e,3),i>f||d.push(i)}}else{let o=i>c?c:i,s=v+(b(a)-b(x))+j(x-v,o);d.push(s);let p=l(s),m=p.getHours()+p.getMinutes()/t+p.getSeconds()/n,g=c/n,w=h/r.axes[u]._space;for(;s=B(s+c,1==e?0:3),f>=s;)if(g>1){let e=b(B(m+g,6))%24,t=l(s).getHours()-e;t>1&&(t=-1),s-=t*n,m=(m+g)%24,.7>B((s-d[d.length-1])/c,3)*w||d.push(s)}else d.push(s)}return d}}]}const[_l,vl,kl]=bl(1),[yl,Ml,Sl]=bl(.001);function Tl(e,l){return e.map(e=>e.map((t,n)=>0==n||8==n||null==t?t:l(1==n||0==e[8]?t:e[1]+t)))}function El(e,l){return(t,n,i,o,s)=>{let r,u,a,f,c,h,d=l.find(e=>s>=e[0])||l[l.length-1];return n.map(l=>{let t=e(l),n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),s=t.getHours(),p=t.getMinutes(),m=t.getSeconds(),g=n!=r&&d[2]||i!=u&&d[3]||o!=a&&d[4]||s!=f&&d[5]||p!=c&&d[6]||m!=h&&d[7]||d[1];return r=n,u=i,a=o,f=s,c=p,h=m,g(t)})}}function zl(e,l,t){return new Date(e,l,t)}function Dl(e,l){return l(e)}function Pl(e,l){return(t,n,i,o)=>null==o?Me:l(e(n))}$(2,-53,53,[1]);const Al={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(e,l){let t=e.series[l];return t.width?t.stroke(e,l):t.points.width?t.points.stroke(e,l):null},fill:function(e,l){return e.series[l].fill(e,l)},dash:"solid"},idx:null,idxs:null,values:[]},Wl=[0,0];function Rl(e,l,t,n=!0){return e=>{0==e.button&&(!n||e.target==l)&&t(e)}}function Yl(e,l,t,n=!0){return e=>{(!n||e.target==l)&&t(e)}}const Cl={show:!0,x:!0,y:!0,lock:!1,move:function(e,l,t){return Wl[0]=l,Wl[1]=t,Wl},points:{one:!1,show:function(e,l){let t=e.cursor.points,n=He(),i=t.size(e,l);Ye(n,ue,i),Ye(n,ae,i);let o=i/-2;Ye(n,"marginLeft",o),Ye(n,"marginTop",o);let s=t.width(e,l,i);return s&&Ye(n,"borderWidth",s),n},size:function(e,l){return e.series[l].points.size},width:0,stroke:function(e,l){let t=e.series[l].points;return t._stroke||t._fill},fill:function(e,l){let t=e.series[l].points;return t._fill||t._stroke}},bind:{mousedown:Rl,mouseup:Rl,click:Rl,dblclick:Rl,mousemove:Yl,mouseleave:Yl,mouseenter:Yl},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,l,t,n,i)=>n-i,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},Hl={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},Fl=oe({},Hl,{filter:C}),Gl=oe({},Fl,{size:10}),Il=oe({},Hl,{show:!1}),Ll='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',Ol="bold "+Ll,jl={show:!0,scale:"x",stroke:pe,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ol,side:2,grid:Fl,ticks:Gl,border:Il,font:Ll,lineGap:1.5,rotate:0},Nl={show:!0,scale:"x",auto:!1,sorted:1,min:D,max:-D,idxs:[]};function Bl(e,l){return l.map(e=>null==e?"":m(e))}function Ul(e,l,t,n,i,o,s){let r=[],u=U.get(i)||0;for(let e=t=s?t:B(j(t,i),u);n>=e;e=B(e+i,u))r.push(Object.is(e,-0)?0:e);return r}function Vl(l,t,n,i,o){const s=[],r=l.scales[l.axes[t].scale].log,u=b((10==r?T:E)(n));o=M(r,u),10==r&&(o=ul[e(o,ul)]);let a=n,f=o*r;10==r&&(f=ul[e(f,ul)]);do{s.push(a),a+=o,10!=r||U.has(a)||(a=B(a,U.get(o))),f>a||(f=(o=a)*r,10==r&&(f=ul[e(f,ul)]))}while(i>=a);return s}function $l(e,l,t,n,i){let o=e.scales[e.axes[l].scale].asinh,s=n>o?Vl(e,l,y(o,t),n,i):[o],r=0>n||t>0?[]:[0];return(-o>t?Vl(e,l,y(o,-n),-t,i):[o]).reverse().map(e=>-e).concat(r,s)}const Zl=/./,Jl=/[12357]/,ql=/[125]/,Xl=/1/,Kl=(e,l,t,n)=>e.map((e,i)=>4==l&&0==e||i%n==0&&t.test(e.toExponential()[0>e?1:0])?e:null);function Ql(e,l,t){let n=e.axes[t],i=n.scale,o=e.scales[i],s=e.valToPos,r=n._space,u=s(10,i),a=s(9,i)-u<r?s(7,i)-u<r?s(5,i)-u<r?Xl:ql:Jl:Zl;if(a==Xl){let e=w(s(1,i)-u);if(r>e)return Kl(l.slice().reverse(),o.distr,a,v(r/e)).reverse()}return Kl(l,o.distr,a,1)}function et(e,l,t){let n=e.axes[t],i=n.scale,o=n._space,s=e.valToPos,r=w(s(1,i)-s(2,i));return o>r?Kl(l.slice().reverse(),3,Zl,v(o/r)).reverse():l}function lt(e,l,t,n){return null==n?Me:null==l?"":m(l)}const tt={show:!0,scale:"y",stroke:pe,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:Ol,side:3,grid:Fl,ticks:Gl,border:Il,font:Ll,lineGap:1.5,rotate:0},nt={scale:null,auto:!0,sorted:0,min:D,max:-D},it=(e,l,t,n,i)=>i,ot={show:!0,auto:!0,sorted:0,gaps:it,alpha:1,facets:[oe({},nt,{scale:"x"}),oe({},nt,{scale:"y"})]},st={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:it,alpha:1,points:{show:function(e,l){let{scale:t,idxs:n}=e.series[0],i=e._data[0],o=e.valToPos(i[n[0]],t,!0),s=e.valToPos(i[n[1]],t,!0);return w(s-o)/(e.series[l].points.space*e.pxRatio)>=n[1]-n[0]},filter:null},values:null,min:D,max:-D,idxs:[],path:null,clip:null};function rt(e,l,t){return t/10}const ut={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},at=oe({},ut,{time:!1,ori:1}),ft={};function ct(e){let l=ft[e];return l||(l={key:e,plots:[],sub(e){l.plots.push(e)},unsub(e){l.plots=l.plots.filter(l=>l!=e)},pub(e,t,n,i,o,s,r){for(let u=0;l.plots.length>u;u++)l.plots[u]!=t&&l.plots[u].pub(e,t,n,i,o,s,r)}},null!=e&&(ft[e]=l)),l}function ht(e,l,t){const n=e.mode,i=e.series[l],o=2==n?e._data[l]:e._data,s=e.scales,r=e.bbox;let u=o[0],a=2==n?o[1]:o[l],f=2==n?s[i.facets[0].scale]:s[e.series[0].scale],c=2==n?s[i.facets[1].scale]:s[i.scale],h=r.left,d=r.top,p=r.width,m=r.height,g=e.valToPosH,x=e.valToPosV;return 0==f.ori?t(i,u,a,f,c,g,x,h,d,p,m,_t,kt,Mt,Tt,zt):t(i,u,a,f,c,x,g,d,h,m,p,vt,yt,St,Et,Dt)}function dt(e,l){let t=0,n=0,i=h(e.bands,J);for(let e=0;i.length>e;e++){let o=i[e];o.series[0]==l?t=o.dir:o.series[1]==l&&(n|=1==o.dir?1:2)}return[t,1==n?-1:2==n?1:3==n?2:0]}function pt(e,l,t,n,i){let o=e.series[l],s=e.scales[2==e.mode?o.facets[1].scale:o.scale];return-1==i?s.min:1==i?s.max:3==s.distr?1==s.dir?s.min:s.max:0}function mt(e,l,t,n,i,o){return ht(e,l,(e,l,s,r,u,a,f,c,h,d,p)=>{let m=e.pxRound;const g=0==r.ori?kt:yt;let x,w;1==r.dir*(0==r.ori?1:-1)?(x=t,w=n):(x=n,w=t);let b=m(a(l[x],r,d,c)),_=m(f(s[x],u,p,h)),v=m(a(l[w],r,d,c)),k=m(f(1==o?u.max:u.min,u,p,h)),y=new Path2D(i);return g(y,v,k),g(y,b,k),g(y,b,_),y})}function gt(e,l,t,n,i,o){let s=null;if(e.length>0){s=new Path2D;const r=0==l?Mt:St;let u=t;for(let l=0;e.length>l;l++){let t=e[l];if(t[1]>t[0]){let e=t[0]-u;e>0&&r(s,u,n,e,n+o),u=t[1]}}let a=t+i-u,f=10;a>0&&r(s,u,n-f/2,a,n+o+f)}return s}function xt(e,l,t,n,i,o,s){let r=[],u=e.length;for(let a=1==i?t:n;a>=t&&n>=a;a+=i)if(null===l[a]){let f=a,c=a;if(1==i)for(;++a<=n&&null===l[a];)c=a;else for(;--a>=t&&null===l[a];)c=a;let h=o(e[f]),d=c==f?h:o(e[c]),p=f-i;h=s>0||0>p||p>=u?h:o(e[p]);let m=c+i;d=0>s||0>m||m>=u?d:o(e[m]),h>d||r.push([h,d])}return r}function wt(e){return 0==e?Y:1==e?_:l=>O(l,e)}function bt(e){let l=0==e?_t:vt,t=0==e?(e,l,t,n,i,o)=>{e.arcTo(l,t,n,i,o)}:(e,l,t,n,i,o)=>{e.arcTo(t,l,i,n,o)},n=0==e?(e,l,t,n,i)=>{e.rect(l,t,n,i)}:(e,l,t,n,i)=>{e.rect(t,l,i,n)};return(e,i,o,s,r,u=0,a=0)=>{0==u&&0==a?n(e,i,o,s,r):(u=k(u,s/2,r/2),a=k(a,s/2,r/2),l(e,i+u,o),t(e,i+s,o,i+s,o+r,u),t(e,i+s,o+r,i,o+r,a),t(e,i,o+r,i,o,a),t(e,i,o,i+s,o,u),e.closePath())}}const _t=(e,l,t)=>{e.moveTo(l,t)},vt=(e,l,t)=>{e.moveTo(t,l)},kt=(e,l,t)=>{e.lineTo(l,t)},yt=(e,l,t)=>{e.lineTo(t,l)},Mt=bt(0),St=bt(1),Tt=(e,l,t,n,i,o)=>{e.arc(l,t,n,i,o)},Et=(e,l,t,n,i,o)=>{e.arc(t,l,n,i,o)},zt=(e,l,t,n,i,o,s)=>{e.bezierCurveTo(l,t,n,i,o,s)},Dt=(e,l,t,n,i,o,s)=>{e.bezierCurveTo(t,l,i,n,s,o)};function Pt(){return(e,l,t,n,i)=>{let{pxRatio:o}=e;return ht(e,l,(l,s,r,u,a,f,c,h,d,p,m)=>{let g,w,{pxRound:b,points:_}=l;0==u.ori?(g=_t,w=Tt):(g=vt,w=Et);const v=B(_.width*o,3);let k=(_.size-_.width)/2*o,y=B(2*k,3),M=new Path2D,S=new Path2D,{left:T,top:E,width:z,height:D}=e.bbox;Mt(S,T-y,E-y,z+2*y,D+2*y);const P=e=>{if(null!=r[e]){let l=b(f(s[e],u,p,h)),t=b(c(r[e],a,m,d));g(M,l+k,t),w(M,l,t,k,0,2*x)}};if(i)i.forEach(P);else for(let e=t;n>=e;e++)P(e);return{stroke:v>0?M:null,fill:M,clip:S,flags:3}})}}function At(e){return(l,t,n,i,o,s)=>{n!=i&&(o!=n&&s!=n&&e(l,t,n),o!=i&&s!=i&&e(l,t,i),e(l,t,s))}}const Wt=At(kt),Rt=At(yt);function Yt(e){const l=h(e?.alignGaps,0);return(e,t,n,o)=>ht(e,t,(s,r,u,a,f,c,h,d,p,m,g)=>{[n,o]=i(u,n,o);let x,w,b=s.pxRound,_=e=>b(c(e,a,m,d)),v=e=>b(h(e,f,g,p));0==a.ori?(x=kt,w=Wt):(x=yt,w=Rt);const k=a.dir*(0==a.ori?1:-1),y={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},M=y.stroke;let S=!1;if(o-n<4*m)for(let e=1==k?n:o;e>=n&&o>=e;e+=k){let l=u[e];null===l?S=!0:null!=l&&x(M,_(r[e]),v(l))}else{let l,t,i,s=l=>e.posToVal(l,a.key,!0),f=null,c=null,h=_(r[1==k?n:o]),d=_(r[n]),p=_(r[o]),m=s(1==k?d+1:p-1);for(let e=1==k?n:o;e>=n&&o>=e;e+=k){let n=r[e],i=(1==k?m>n:n>m)?h:_(n),o=u[e];i==h?null!=o?(t=o,null==f?(x(M,i,v(t)),l=f=c=t):f>t?f=t:t>c&&(c=t)):null===o&&(S=!0):(null!=f&&w(M,h,v(f),v(c),v(l),v(t)),null!=o?(t=o,x(M,i,v(t)),f=c=l=t):(f=c=null,null===o&&(S=!0)),h=i,m=s(h+k))}null!=f&&f!=c&&i!=h&&w(M,h,v(f),v(c),v(l),v(t))}let[T,E]=dt(e,t);if(null!=s.fill||0!=T){let l=y.fill=new Path2D(M),i=v(s.fillTo(e,t,s.min,s.max,T)),u=_(r[n]),a=_(r[o]);-1==k&&([a,u]=[u,a]),x(l,a,i),x(l,u,i)}if(!s.spanGaps){let i=[];S&&i.push(...xt(r,u,n,o,k,_,l)),y.gaps=i=s.gaps(e,t,n,o,i),y.clip=gt(i,a.ori,d,p,m,g)}return 0!=E&&(y.band=2==E?[mt(e,t,n,o,M,-1),mt(e,t,n,o,M,1)]:mt(e,t,n,o,M,E)),y})}function Ct(e,l,t,n,i,o,s=D){if(e.length>1){let r=null;for(let u=0,a=1/0;e.length>u;u++)if(void 0!==l[u]){if(null!=r){let l=w(e[u]-e[r]);a>l&&(a=l,s=w(t(e[u],n,i,o)-t(e[r],n,i,o)))}r=u}}return s}function Ht(e,l,t,n,i){const o=e.length;if(2>o)return null;const s=new Path2D;if(t(s,e[0],l[0]),2==o)n(s,e[1],l[1]);else{let t=Array(o),n=Array(o-1),r=Array(o-1),u=Array(o-1);for(let t=0;o-1>t;t++)r[t]=l[t+1]-l[t],u[t]=e[t+1]-e[t],n[t]=r[t]/u[t];t[0]=n[0];for(let e=1;o-1>e;e++)0===n[e]||0===n[e-1]||n[e-1]>0!=n[e]>0?t[e]=0:(t[e]=3*(u[e-1]+u[e])/((2*u[e]+u[e-1])/n[e-1]+(u[e]+2*u[e-1])/n[e]),isFinite(t[e])||(t[e]=0));t[o-1]=n[o-2];for(let n=0;o-1>n;n++)i(s,e[n]+u[n]/3,l[n]+t[n]*u[n]/3,e[n+1]-u[n]/3,l[n+1]-t[n+1]*u[n]/3,e[n+1],l[n+1])}return s}const Ft=new Set;function Gt(){for(let e of Ft)e.syncRect(!0)}Ee&&(Ue("resize",De,Gt),Ue("scroll",De,Gt,!0),Ue(ye,De,()=>{Kt.pxRatio=Pe}));const It=Yt(),Lt=Pt();function Ot(e,l,t,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((e,n)=>jt(e,n,l,t))}function jt(e,l,t,n){return oe({},0==l?t:n,e)}function Nt(e,l,t){return null==l?q:[l,t]}const Bt=Nt;function Ut(e,l,t){return null==l?q:c(l,t,.1,!0)}function Vt(e,l,t,n){return null==l?q:s(l,t,e.scales[n].log,!0)}const $t=Vt;function Zt(e,l,t,n){return null==l?q:r(l,t,e.scales[n].log,!0)}const Jt=Zt;function qt(l,t,n,i,o){let s=y(P(l),P(t)),r=t-l,u=e(o/i*r,n);do{let e=n[u],l=i*e/r;if(l>=o&&17>=s+(5>e?U.get(e):0))return[e,l]}while(++u<n.length);return[0,0]}function Xt(e,l){let t,n;return[e=e.replace(/(\d+)px/,(e,i)=>(t=_((n=+i)*l))+"px"),t,n]}function Kt(l,a,f){let d=l.pxRatio??Pe;function p(e){d=m.pxRatio=e??Pe,ke.forEach(e=>function(e,l){e.show&&[e.font,e.labelFont].forEach(e=>{let t=B(e[2]*l,1);e[0]=e[0].replace(/[0-9.]+px/,t+"px"),e[1]=t})}(e,d)),kt(m.width,m.height,!0)}const m={mode:h(l.mode,1),pxRatio:d,setPxRatio:p};m.setPxRatio=p;const b=m.mode;function S(e,l,t,n){let i=l.valToPct(e);return n+t*(-1==l.dir?1-i:i)}function E(e,l,t,n){let i=l.valToPct(e);return n+t*(-1==l.dir?i:1-i)}function P(e,l,t,n){return 0==l.ori?S(e,l,t,n):E(e,l,t,n)}m.valToPosH=S,m.valToPosV=E;let Y=!1;m.status=0;const I=m.root=He("uplot");null!=l.id&&(I.id=l.id),We(I,l.class),l.title&&(He("u-title",I).textContent=l.title);const L=Ce("canvas"),j=m.ctx=L.getContext("2d"),N=He("u-wrap",I);Ue("click",N,e=>{e.target===K&&(jn!=Gn||Nn!=In)&&Kn.click(m,e)},!0);const $=m.under=He("u-under",N);N.appendChild(L);const K=m.over=He("u-over",N),te=+h((l=ie(l)).pxAlign,1),ne=wt(te);(l.plugins||[]).forEach(e=>{e.opts&&(l=e.opts(m,l)||l)});const se=l.ms||.001,pe=m.series=1==b?Ot(l.series||[],Nl,st,!1):function(e,l){return e.map((e,t)=>0==t?{}:oe({},l,e))}(l.series||[null],ot),ke=m.axes=Ot(l.axes||[],jl,tt,!0),Ee=m.scales={},Ae=m.bands=l.bands||[];Ae.forEach(e=>{e.fill=R(e.fill||null),e.dir=h(e.dir,-1)});const Fe=2==b?pe[1].facets[0].scale:pe[0].scale,Ie={axes:function(){for(let e=0;ke.length>e;e++){let l=ke[e];if(!l.show||!l._show)continue;let t,n,i=l.side,o=i%2,s=l.stroke(m,e),r=0==i||3==i?-1:1,[u,a]=l._found;if(null!=l.label){let f=_((l._lpos+l.labelGap*r)*d);bn(l.labelFont[0],s,"center",2==i?fe:ce),j.save(),1==o?(t=n=0,j.translate(f,_(ft+dt/2)),j.rotate((3==i?-x:x)/2)):(t=_(it+ht/2),n=f);let c=W(l.label)?l.label(m,e,u,a):l.label;j.fillText(c,t,n),j.restore()}if(0==a)continue;let f=Ee[l.scale],c=0==o?ht:dt,h=0==o?it:ft,p=l._splits,g=2==f.distr?p.map(e=>pn[e]):p,w=2==f.distr?pn[p[1]]-pn[p[0]]:u,b=l.ticks,v=l.border,k=b.show?b.size:0,y=_(k*d),M=_((2==l.alignTo?l._size-k-l.gap:l.gap)*d),S=l._rotate*-x/180,T=ne(l._pos*d),E=T+(y+M)*r;n=0==o?E:0,t=1==o?E:0,bn(l.font[0],s,1==l.align?he:2==l.align?de:S>0?he:0>S?de:0==o?"center":3==i?de:he,S||1==o?"middle":2==i?fe:ce);let z=l.font[1]*l.lineGap,D=p.map(e=>({isZero:0===e,value:ne(P(e,f,c,h))}));console.log("[DEBUG]",{_splits:p,canOffs:D});let A=l._values;for(let e=0;A.length>e;e++){let l=A[e];if(null!=l){0==o?t=D[e].value:n=D[e].value,l=""+l;let i=-1==l.indexOf("\n")?[l]:l.split(/\n/gm);for(let e=0;i.length>e;e++){let l=i[e];S?(j.save(),j.translate(t,n+e*z),j.rotate(S),j.fillText(l,0,0),j.restore()):j.fillText(l,t,n+e*z)}}}b.show&&zn(D,b.filter(m,g,e,a,w),o,i,T,y,B(b.width*d,3),b.stroke(m,e),b.dash,b.cap);let R=l.grid;R.show&&zn(D,R.filter(m,g,e,a,w),o,0==o?2:1,0==o?ft:it,0==o?dt:ht,B(R.width*d,3),{default:R.stroke(m,e),zero:R.zeroStroke(m,e)},R.dash,R.cap),v.show&&zn([{value:T,isZero:!1}],[1],0==o?1:0,0==o?1:2,1==o?ft:it,1==o?dt:ht,B(v.width*d,3),v.stroke(m,e),v.dash,v.cap)}Yi("drawAxes")},series:function(){if(Qt>0){let e=pe.some(e=>e._focus)&&dn!=Et.alpha;e&&(j.globalAlpha=dn=Et.alpha),pe.forEach((e,l)=>{if(l>0&&e.show&&(kn(l,!1),kn(l,!0),null==e._paths)){let t=dn;dn!=e.alpha&&(j.globalAlpha=dn=e.alpha);let n=2==b?[0,a[l][0].length-1]:function(e){let l=A(en-1,0,Qt-1),t=A(ln+1,0,Qt-1);for(;null==e[l]&&l>0;)l--;for(;null==e[t]&&Qt-1>t;)t++;return[l,t]}(a[l]);e._paths=e.paths(m,l,n[0],n[1]),dn!=t&&(j.globalAlpha=dn=t)}}),pe.forEach((e,l)=>{if(l>0&&e.show){let t=dn;dn!=e.alpha&&(j.globalAlpha=dn=e.alpha),null!=e._paths&&yn(l,!1);{let t=null!=e._paths?e._paths.gaps:null,n=e.points.show(m,l,en,ln,t),i=e.points.filter(m,l,n,t);(n||i)&&(e.points._paths=e.points.paths(m,l,en,ln,i),yn(l,!0))}dn!=t&&(j.globalAlpha=dn=t),Yi("drawSeries",l)}}),e&&(j.globalAlpha=dn=1)}}},Oe=(l.drawOrder||["axes","series"]).map(e=>Ie[e]);function Ne(e){const l=3==e.distr?l=>T(l>0?l:e.clamp(m,l,e.min,e.max,e.key)):4==e.distr?l=>z(l,e.asinh):100==e.distr?l=>e.fwd(l):e=>e;return t=>{let n=l(t),{_min:i,_max:o}=e;return(n-i)/(o-i)}}function Be(e){let t=Ee[e];if(null==t){let n=(l.scales||Z)[e]||Z;if(null!=n.from){Be(n.from);let l=oe({},Ee[n.from],n,{key:e});l.valToPct=Ne(l),Ee[e]=l}else{t=Ee[e]=oe({},e==Fe?ut:at,n),t.key=e;let l=t.time,i=t.range,o=X(i);if((e!=Fe||2==b&&!l)&&(!o||null!=i[0]&&null!=i[1]||(i={min:null==i[0]?u:{mode:1,hard:i[0],soft:i[0]},max:null==i[1]?u:{mode:1,hard:i[1],soft:i[1]}},o=!1),!o&&ee(i))){let e=i;i=(l,t,n)=>null==t?q:c(t,n,e)}t.range=R(i||(l?Bt:e==Fe?3==t.distr?$t:4==t.distr?Jt:Nt:3==t.distr?Vt:4==t.distr?Zt:Ut)),t.auto=R(!o&&t.auto),t.clamp=R(t.clamp||rt),t._min=t._max=null,t.valToPct=Ne(t)}}}Be("x"),Be("y"),1==b&&pe.forEach(e=>{Be(e.scale)}),ke.forEach(e=>{Be(e.scale)});for(let e in l.scales)Be(e);const $e=Ee[Fe],Ze=$e.distr;let Je,qe;0==$e.ori?(We(I,"u-hz"),Je=S,qe=E):(We(I,"u-vt"),Je=E,qe=S);const Xe={};for(let e in Ee){let l=Ee[e];null==l.min&&null==l.max||(Xe[e]={min:l.min,max:l.max},l.min=l.max=null)}const Ke=l.tzDate||(e=>new Date(_(e/se))),Qe=l.fmtDate||ll,el=1==se?kl(Ke):Sl(Ke),tl=El(Ke,Tl(1==se?vl:Ml,Qe)),nl=Pl(Ke,Dl("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",Qe)),il=[],ol=m.legend=oe({},Al,l.legend),sl=m.cursor=oe({},Cl,{drag:{y:2==b}},l.cursor),al=ol.show,fl=sl.show,cl=ol.markers;let hl,dl,pl;ol.idxs=il,cl.width=R(cl.width),cl.dash=R(cl.dash),cl.stroke=R(cl.stroke),cl.fill=R(cl.fill);let ml,gl=[],xl=[],wl=!1,bl={};if(ol.live){const e=pe[1]?pe[1].values:null;wl=null!=e,ml=wl?e(m,1,0):{_:0};for(let e in ml)bl[e]=Me}if(al)if(hl=Ce("table","u-legend",I),pl=Ce("tbody",null,hl),ol.mount(m,hl),wl){dl=Ce("thead",null,hl,pl);let e=Ce("tr",null,dl);for(var zl in Ce("th",null,e),ml)Ce("th",Te,e).textContent=zl}else We(hl,"u-inline"),ol.live&&We(hl,"u-live");const Wl={show:!0},Rl={show:!1},Yl=new Map;function Hl(e,l,t,n=!0){const i=Yl.get(l)||{},o=sl.bind[e](m,l,t,n);o&&(Ue(e,l,i[e]=o),Yl.set(l,i))}function Fl(e,l){const t=Yl.get(l)||{};for(let n in t)null!=e&&n!=e||(Ve(n,l,t[n]),delete t[n]);null==e&&Yl.delete(l)}let Gl=0,Il=0,Ll=0,Ol=0,Zl=0,Jl=0,ql=Zl,Xl=Jl,Kl=Ll,nt=Ol,it=0,ft=0,ht=0,dt=0;m.bbox={};let mt=!1,gt=!1,xt=!1,bt=!1,_t=!1,vt=!1;function kt(e,l,t){(t||e!=m.width||l!=m.height)&&yt(e,l),An(!1),xt=!0,gt=!0,Zn()}function yt(e,l){m.width=Gl=Ll=e,m.height=Il=Ol=l,Zl=Jl=0,function(){let e=!1,l=!1,t=!1,n=!1;ke.forEach(i=>{if(i.show&&i._show){let{side:o,_size:s}=i,r=s+(null!=i.label?i.labelSize:0);r>0&&(o%2?(Ll-=r,3==o?(Zl+=r,n=!0):t=!0):(Ol-=r,0==o?(Jl+=r,e=!0):l=!0))}}),Ct[0]=e,Ct[1]=t,Ct[2]=l,Ct[3]=n,Ll-=Kt[1]+Kt[3],Zl+=Kt[3],Ol-=Kt[2]+Kt[0],Jl+=Kt[0]}(),function(){let e=Zl+Ll,l=Jl+Ol,t=Zl,n=Jl;function i(i,o){switch(i){case 1:return e+=o,e-o;case 2:return l+=o,l-o;case 3:return t-=o,t+o;case 0:return n-=o,n+o}}ke.forEach(e=>{if(e.show&&e._show){let l=e.side;e._pos=i(l,e._size),null!=e.label&&(e._lpos=i(l,e.labelSize))}})}();let t=m.bbox;it=t.left=O(Zl*d,.5),ft=t.top=O(Jl*d,.5),ht=t.width=O(Ll*d,.5),dt=t.height=O(Ol*d,.5)}const Mt=3;if(m.setSize=function({width:e,height:l}){kt(e,l)},null==sl.dataIdx){let e=sl.hover,l=e.skip=new Set(e.skip??[]);l.add(void 0);let t=e.prox=R(e.prox),n=e.bias??=0;sl.dataIdx=(e,i,o,s)=>{if(0==i)return o;let r=o,u=t(e,i,o,s)??D,f=u>=0&&D>u,c=0==$e.ori?Ll:Ol,h=sl.left,d=a[0],p=a[i];if(l.has(p[o])){r=null;let e,t=null,i=null;if(0==n||-1==n)for(e=o;null==t&&e-- >0;)l.has(p[e])||(t=e);if(0==n||1==n)for(e=o;null==i&&e++<p.length;)l.has(p[e])||(i=e);if(null!=t||null!=i)if(f){let e=h-(null==t?-1/0:Je(d[t],$e,c,0)),l=(null==i?1/0:Je(d[i],$e,c,0))-h;e>l?l>u||(r=i):e>u||(r=t)}else r=null==i?t:null==t||o-t>i-o?i:t}else f&&w(h-Je(d[o],$e,c,0))>u&&(r=null);return r}}const St=e=>{sl.event=e};sl.idxs=il,sl._lock=!1;let Tt=sl.points;Tt.show=R(Tt.show),Tt.size=R(Tt.size),Tt.stroke=R(Tt.stroke),Tt.width=R(Tt.width),Tt.fill=R(Tt.fill);const Et=m.focus=oe({},l.focus||{alpha:.3},sl.focus),zt=Et.prox>=0,Dt=zt&&Tt.one;let Pt=[],At=[],Wt=[];function Rt(e,l){let t=Tt.show(m,l);if(t instanceof HTMLElement)return We(t,"u-cursor-pt"),We(t,e.class),Ge(t,-10,-10,Ll,Ol),K.insertBefore(t,Pt[l]),t}function Yt(e,l){if(1==b||l>0){let l=1==b&&Ee[e.scale].time,t=e.value;e.value=l?Q(t)?Pl(Ke,Dl(t,Qe)):t||nl:t||lt,e.label=e.label||(l?"Time":"Value")}if(Dt||l>0){e.width=null==e.width?1:e.width,e.paths=e.paths||It||H,e.fillTo=R(e.fillTo||pt),e.pxAlign=+h(e.pxAlign,te),e.pxRound=wt(e.pxAlign),e.stroke=R(e.stroke||null),e.fill=R(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let l=function(e){return B(1*(3+2*(e||1)),3)}(y(1,e.width)),t=e.points=oe({},{size:l,width:y(1,.2*l),stroke:e.stroke,space:2*l,paths:Lt,_stroke:null,_fill:null},e.points);t.show=R(t.show),t.filter=R(t.filter),t.fill=R(t.fill),t.stroke=R(t.stroke),t.paths=R(t.paths),t.pxAlign=e.pxAlign}if(al){let t=function(e,l){if(0==l&&(wl||!ol.live||2==b))return q;let t=[],n=Ce("tr","u-series",pl,pl.childNodes[l]);We(n,e.class),e.show||We(n,Se);let i=Ce("th",null,n);if(cl.show){let e=He("u-marker",i);if(l>0){let t=cl.width(m,l);t&&(e.style.border=t+"px "+cl.dash(m,l)+" "+cl.stroke(m,l)),e.style.background=cl.fill(m,l)}}let o=He(Te,i);for(var s in e.label instanceof HTMLElement?o.appendChild(e.label):o.textContent=e.label,l>0&&(cl.show||(o.style.color=e.width>0?cl.stroke(m,l):cl.fill(m,l)),Hl("click",i,l=>{if(sl._lock)return;St(l);let t=pe.indexOf(e);if((l.ctrlKey||l.metaKey)!=ol.isolate){let e=pe.some((e,l)=>l>0&&l!=t&&e.show);pe.forEach((l,n)=>{n>0&&oi(n,e?n==t?Wl:Rl:Wl,!0,Hi.setSeries)})}else oi(t,{show:!e.show},!0,Hi.setSeries)},!1),zt&&Hl(be,i,l=>{sl._lock||(St(l),oi(pe.indexOf(e),ai,!0,Hi.setSeries))},!1)),ml){let e=Ce("td","u-value",n);e.textContent="--",t.push(e)}return[n,t]}(e,l);gl.splice(l,0,t[0]),xl.splice(l,0,t[1]),ol.values.push(null)}if(fl){il.splice(l,0,null);let t=null;Dt?0==l&&(t=Rt(e,l)):l>0&&(t=Rt(e,l)),Pt.splice(l,0,t),At.splice(l,0,0),Wt.splice(l,0,0)}Yi("addSeries",l)}m.addSeries=function(e,l){l=null==l?pe.length:l,e=1==b?jt(e,l,Nl,st):jt(e,l,{},ot),pe.splice(l,0,e),Yt(pe[l],l)},m.delSeries=function(e){if(pe.splice(e,1),al){ol.values.splice(e,1),xl.splice(e,1);let l=gl.splice(e,1)[0];Fl(null,l.firstChild),l.remove()}fl&&(il.splice(e,1),Pt.splice(e,1)[0].remove(),At.splice(e,1),Wt.splice(e,1)),Yi("delSeries",e)};const Ct=[!1,!1,!1,!1];function Ht(e,l,t){let[n,i,o,s]=t,r=l%2,u=0;return 0==r&&(s||i)&&(u=0==l&&!n||2==l&&!o?_(jl.size/3):0),1==r&&(n||o)&&(u=1==l&&!i||3==l&&!s?_(tt.size/2):0),u}const Gt=m.padding=(l.padding||[Ht,Ht,Ht,Ht]).map(e=>R(h(e,Ht))),Kt=m._padding=Gt.map((e,l)=>e(m,l,Ct,0));let Qt,en=null,ln=null;const tn=1==b?pe[0].idxs:null;let nn,on,sn,rn,un,an,fn,cn,hn,dn,pn=null,mn=!1;function gn(e,l){if(m.data=m._data=a=null==e?[]:e,2==b){Qt=0;for(let e=1;pe.length>e;e++)Qt+=a[e][0].length}else{0==a.length&&(m.data=m._data=a=[[]]),pn=a[0],Qt=pn.length;let e=a;if(2==Ze){e=a.slice();let l=e[0]=Array(Qt);for(let e=0;Qt>e;e++)l[e]=e}m._data=a=e}if(An(!0),Yi("setData"),2==Ze&&(xt=!0),!1!==l){let e=$e;e.auto(m,mn)?xn():ii(Fe,e.min,e.max),bt=bt||sl.left>=0,vt=!0,Zn()}}function xn(){let e,l;mn=!0,1==b&&(Qt>0?(en=tn[0]=0,ln=tn[1]=Qt-1,e=a[0][en],l=a[0][ln],2==Ze?(e=en,l=ln):e==l&&(3==Ze?[e,l]=s(e,e,$e.log,!1):4==Ze?[e,l]=r(e,e,$e.log,!1):$e.time?l=e+_(86400/se):[e,l]=c(e,l,.1,!0))):(en=tn[0]=e=null,ln=tn[1]=l=null)),ii(Fe,e,l)}function wn(e,l,t,n,i,o){e??=me,t??=J,n??="butt",i??=me,o??="round",e!=nn&&(j.strokeStyle=nn=e),i!=on&&(j.fillStyle=on=i),l!=sn&&(j.lineWidth=sn=l),o!=un&&(j.lineJoin=un=o),n!=an&&(j.lineCap=an=n),t!=rn&&j.setLineDash(rn=t)}function bn(e,l,t,n){l!=on&&(j.fillStyle=on=l),e!=fn&&(j.font=fn=e),t!=cn&&(j.textAlign=cn=t),n!=hn&&(j.textBaseline=hn=n)}function _n(e,l,s,r,u=0){if(r.length>0&&e.auto(m,mn)&&(null==l||null==l.min)){let l=h(en,0),a=h(ln,r.length-1),f=null==s.min?function(e,l,s,r=0,u=!1){let a=u?o:i,f=u?n:t;[l,s]=a(e,l,s);let c=e[l],h=e[l];if(l>-1)if(1==r)c=e[l],h=e[s];else if(-1==r)c=e[s],h=e[l];else for(let t=l;s>=t;t++){let l=e[t];f(l)&&(c>l?c=l:l>h&&(h=l))}return[c??D,h??-D]}(r,l,a,u,3==e.distr):[s.min,s.max];e.min=k(e.min,s.min=f[0]),e.max=y(e.max,s.max=f[1])}}m.setData=gn;const vn={min:null,max:null};function kn(e,l){let t=l?pe[e].points:pe[e];t._stroke=t.stroke(m,e),t._fill=t.fill(m,e)}function yn(e,l){let t=l?pe[e].points:pe[e],{stroke:n,fill:i,clip:o,flags:s,_stroke:r=t._stroke,_fill:u=t._fill,_width:f=t.width}=t._paths;f=B(f*d,3);let c=null,p=f%2/2;l&&null==u&&(u=f>0?"#fff":r);let g=1==t.pxAlign&&p>0;if(g&&j.translate(p,p),!l){let e=it-f/2,l=ft-f/2,t=ht+f,n=dt+f;c=new Path2D,c.rect(e,l,t,n)}l?Sn(r,f,t.dash,t.cap,u,n,i,s,o):function(e,l,t,n,i,o,s,r,u,f,c){let d=!1;0!=u&&Ae.forEach((p,g)=>{if(p.series[0]==e){let e,x=pe[p.series[1]],w=a[p.series[1]],b=(x._paths||Z).band;X(b)&&(b=1==p.dir?b[0]:b[1]);let _=null;x.show&&b&&function(e,l,t){for(l=h(l,0),t=h(t,e.length-1);t>=l;){if(null!=e[l])return!0;l++}return!1}(w,en,ln)?(_=p.fill(m,g)||o,e=x._paths.clip):b=null,Sn(l,t,n,i,_,s,r,u,f,c,e,b),d=!0}}),d||Sn(l,t,n,i,o,s,r,u,f,c)}(e,r,f,t.dash,t.cap,u,n,i,s,c,o),g&&j.translate(-p,-p)}const Mn=3;function Sn(e,l,t,n,i,o,s,r,u,a,f,c){wn(e,l,t,n,i),(u||a||c)&&(j.save(),u&&j.clip(u),a&&j.clip(a)),c?(r&Mn)==Mn?(j.clip(c),f&&j.clip(f),En(i,s),Tn(e,o,l)):2&r?(En(i,s),j.clip(c),Tn(e,o,l)):1&r&&(j.save(),j.clip(c),f&&j.clip(f),En(i,s),j.restore(),Tn(e,o,l)):(En(i,s),Tn(e,o,l)),(u||a||c)&&j.restore()}function Tn(e,l,t){t>0&&(l instanceof Map?l.forEach((e,l)=>{j.strokeStyle=nn=l,j.stroke(e)}):null!=l&&e&&j.stroke(l))}function En(e,l){l instanceof Map?l.forEach((e,l)=>{j.fillStyle=on=l,j.fill(e)}):null!=l&&e&&j.fill(l)}function zn(e,l,t,n,i,o,s,r,u,a){let f=s%2/2;1==te&&j.translate(f,f),"object"==typeof r?wn(r.default,s,u,a,r.default):wn(r,s,u,a,r),j.beginPath();let c,h,d,p,m=i+(0==n||3==n?-o:o);0==t?(h=i,p=m):(c=i,d=m);for(let n=0;e.length>n;n++)if(null!=l[n]){const l=e[n].isZero&&"object"==typeof r;l&&(j.stroke(),j.beginPath(),wn(r.zero,s,u,a,r.zero)),0==t?c=d=e[n].value:h=p=e[n].value,j.moveTo(c,h),j.lineTo(d,p),l&&(j.stroke(),j.beginPath(),wn(r.default,s,u,a,r.default))}j.stroke(),1==te&&j.translate(-f,-f)}function Dn(e){let l=!0;return ke.forEach((t,n)=>{if(!t.show)return;let i=Ee[t.scale];if(null==i.min)return void(t._show&&(l=!1,t._show=!1,An(!1)));t._show||(l=!1,t._show=!0,An(!1));let o=t.side,s=o%2,{min:r,max:u}=i,[a,f]=function(e,l,t,n){let i,o=ke[e];if(n>0){let s=o._space=o.space(m,e,l,t,n);i=qt(l,t,o._incrs=o.incrs(m,e,l,t,n,s),n,s)}else i=[0,0];return o._found=i}(n,r,u,0==s?Ll:Ol);if(0==f)return;let c=2==i.distr;console.log("[DEBUG] Maybe _splits is calculated here",{i:n,min:r,max:u,_incr:a,_space:f,forceMin:c});let h=t._splits=t.splits(m,n,r,u,a,f,c),d=2==i.distr?h.map(e=>pn[e]):h,p=2==i.distr?pn[h[1]]-pn[h[0]]:a,g=t._values=t.values(m,t.filter(m,d,n,f,p),n,f,p);t._rotate=2==o?t.rotate(m,g,n,f):0;let x=t._size;t._size=v(t.size(m,g,n,e)),null!=x&&t._size!=x&&(l=!1)}),l}function Pn(e){let l=!0;return Gt.forEach((t,n)=>{let i=t(m,n,Ct,e);i!=Kt[n]&&(l=!1),Kt[n]=i}),l}function An(e){pe.forEach((l,t)=>{t>0&&(l._paths=null,e&&(1==b?(l.min=null,l.max=null):l.facets.forEach(e=>{e.min=null,e.max=null})))})}let Wn,Rn,Yn,Cn,Hn,Fn,Gn,In,Ln,On,jn,Nn,Bn=!1,Un=!1,Vn=[];function $n(){Un=!1;for(let e=0;Vn.length>e;e++)Yi(...Vn[e]);Vn.length=0}function Zn(){Bn||(re(Jn),Bn=!0)}function Jn(){if(mt&&(function(){for(let e in Ee){let l=Ee[e];null==Xe[e]&&(null==l.min||null!=Xe[Fe]&&l.auto(m,mn))&&(Xe[e]=vn)}for(let e in Ee){let l=Ee[e];null==Xe[e]&&null!=l.from&&null!=Xe[l.from]&&(Xe[e]=vn)}null!=Xe[Fe]&&An(!0);let l={};for(let e in Xe){let t=Xe[e];if(null!=t){let n=l[e]=ie(Ee[e],le);if(null!=t.min)oe(n,t);else if(e!=Fe||2==b)if(0==Qt&&null==n.from){let l=n.range(m,null,null,e);n.min=l[0],n.max=l[1]}else n.min=D,n.max=-D}}if(Qt>0){pe.forEach((t,n)=>{if(1==b){let i=t.scale,o=Xe[i];if(null==o)return;let s=l[i];if(0==n){let l=s.range(m,s.min,s.max,i);s.min=l[0],s.max=l[1],en=e(s.min,a[0]),ln=e(s.max,a[0]),ln-en>1&&(s.min>a[0][en]&&en++,a[0][ln]>s.max&&ln--),t.min=pn[en],t.max=pn[ln]}else t.show&&t.auto&&_n(s,o,t,a[n],t.sorted);t.idxs[0]=en,t.idxs[1]=ln}else if(n>0&&t.show&&t.auto){let[e,i]=t.facets,o=e.scale,s=i.scale,[r,u]=a[n],f=l[o],c=l[s];null!=f&&_n(f,Xe[o],e,r,e.sorted),null!=c&&_n(c,Xe[s],i,u,i.sorted),t.min=i.min,t.max=i.max}});for(let e in l){let t=l[e],n=Xe[e];if(null==t.from&&(null==n||null==n.min)){let l=t.range(m,t.min==D?null:t.min,t.max==-D?null:t.max,e);t.min=l[0],t.max=l[1]}}}for(let e in l){let t=l[e];if(null!=t.from){let n=l[t.from];if(null==n.min)t.min=t.max=null;else{let l=t.range(m,n.min,n.max,e);t.min=l[0],t.max=l[1]}}}let t={},n=!1;for(let e in l){let i=l[e],o=Ee[e];if(o.min!=i.min||o.max!=i.max){o.min=i.min,o.max=i.max;let l=o.distr;o._min=3==l?T(o.min):4==l?z(o.min,o.asinh):100==l?o.fwd(o.min):o.min,o._max=3==l?T(o.max):4==l?z(o.max,o.asinh):100==l?o.fwd(o.max):o.max,t[e]=n=!0}}if(n){pe.forEach((e,l)=>{2==b?l>0&&t.y&&(e._paths=null):t[e.scale]&&(e._paths=null)});for(let e in t)xt=!0,Yi("setScale",e);fl&&sl.left>=0&&(bt=vt=!0)}for(let e in Xe)Xe[e]=null}(),mt=!1),xt&&(function(){let e=!1,l=0;for(;!e;){l++;let t=Dn(l),n=Pn(l);e=l==Mt||t&&n,e||(yt(m.width,m.height),gt=!0)}}(),xt=!1),gt){if(Ye($,he,Zl),Ye($,fe,Jl),Ye($,ue,Ll),Ye($,ae,Ol),Ye(K,he,Zl),Ye(K,fe,Jl),Ye(K,ue,Ll),Ye(K,ae,Ol),Ye(N,ue,Gl),Ye(N,ae,Il),L.width=_(Gl*d),L.height=_(Il*d),ke.forEach(({_el:e,_show:l,_size:t,_pos:n,side:i})=>{if(null!=e)if(l){let l=i%2==1;Ye(e,l?"left":"top",n-(3===i||0===i?t:0)),Ye(e,l?"width":"height",t),Ye(e,l?"top":"left",l?Jl:Zl),Ye(e,l?"height":"width",l?Ol:Ll),Re(e,Se)}else We(e,Se)}),nn=on=sn=un=an=fn=cn=hn=rn=null,dn=1,bi(!0),Zl!=ql||Jl!=Xl||Ll!=Kl||Ol!=nt){An(!1);let e=Ll/Kl,l=Ol/nt;if(fl&&!bt&&sl.left>=0){sl.left*=e,sl.top*=l,Yn&&Ge(Yn,_(sl.left),0,Ll,Ol),Cn&&Ge(Cn,0,_(sl.top),Ll,Ol);for(let t=0;Pt.length>t;t++){let n=Pt[t];null!=n&&(At[t]*=e,Wt[t]*=l,Ge(n,v(At[t]),v(Wt[t]),Ll,Ol))}}if(li.show&&!_t&&li.left>=0&&li.width>0){li.left*=e,li.width*=e,li.top*=l,li.height*=l;for(let e in ki)Ye(ti,e,li[e])}ql=Zl,Xl=Jl,Kl=Ll,nt=Ol}Yi("setSize"),gt=!1}Gl>0&&Il>0&&(j.clearRect(0,0,L.width,L.height),Yi("drawClear"),Oe.forEach(e=>e()),Yi("draw")),li.show&&_t&&(ni(li),_t=!1),fl&&bt&&(xi(null,!0,!1),bt=!1),ol.show&&ol.live&&vt&&(mi(),vt=!1),Y||(Y=!0,m.status=1,Yi("ready")),mn=!1,Bn=!1}function qn(l,t){let n=Ee[l];if(null==n.from){if(0==Qt){let e=n.range(m,t.min,t.max,l);t.min=e[0],t.max=e[1]}if(t.min>t.max){let e=t.min;t.min=t.max,t.max=e}if(Qt>1&&null!=t.min&&null!=t.max&&1e-16>t.max-t.min)return;l==Fe&&2==n.distr&&Qt>0&&(t.min=e(t.min,a[0]),t.max=e(t.max,a[0]),t.min==t.max&&t.max++),Xe[l]=t,mt=!0,Zn()}}m.batch=function(e,l=!1){Bn=!0,Un=l,e(m),Jn(),l&&Vn.length>0&&queueMicrotask($n)},m.redraw=(e,l)=>{xt=l||!1,!1!==e?ii(Fe,$e.min,$e.max):Zn()},m.setScale=qn;let Xn=!1;const Kn=sl.drag;let Qn=Kn.x,ei=Kn.y;fl&&(sl.x&&(Wn=He("u-cursor-x",K)),sl.y&&(Rn=He("u-cursor-y",K)),0==$e.ori?(Yn=Wn,Cn=Rn):(Yn=Rn,Cn=Wn),jn=sl.left,Nn=sl.top);const li=m.select=oe({show:!0,over:!0,left:0,width:0,top:0,height:0},l.select),ti=li.show?He("u-select",li.over?K:$):null;function ni(e,l){if(li.show){for(let l in e)li[l]=e[l],l in ki&&Ye(ti,l,e[l]);!1!==l&&Yi("setSelect")}}function ii(e,l,t){qn(e,{min:l,max:t})}function oi(e,l,t,n){null!=l.focus&&function(e){if(e!=ui){let l=null==e,t=1!=Et.alpha;pe.forEach((n,i)=>{if(1==b||i>0){let o=l||0==i||i==e;n._focus=l?null:o,t&&function(e,l){pe[e].alpha=l,fl&&null!=Pt[e]&&(Pt[e].style.opacity=l),al&&gl[e]&&(gl[e].style.opacity=l)}(i,o?1:Et.alpha)}}),ui=e,t&&Zn()}}(e),null!=l.show&&pe.forEach((t,n)=>{0>=n||e!=n&&null!=e||(t.show=l.show,function(e){if(pe[e].show)al&&Re(gl[e],Se);else if(al&&We(gl[e],Se),fl){let l=Dt?Pt[0]:Pt[e];null!=l&&Ge(l,-10,-10,Ll,Ol)}}(n),2==b?(ii(t.facets[0].scale,null,null),ii(t.facets[1].scale,null,null)):ii(t.scale,null,null),Zn())}),!1!==t&&Yi("setSeries",e,l),n&&Ii("setSeries",m,e,l)}let si,ri,ui;m.setSelect=ni,m.setSeries=oi,m.addBand=function(e,l){e.fill=R(e.fill||null),e.dir=h(e.dir,-1),Ae.splice(l=null==l?Ae.length:l,0,e)},m.setBand=function(e,l){oe(Ae[e],l)},m.delBand=function(e){null==e?Ae.length=0:Ae.splice(e,1)};const ai={focus:!0};function fi(e,l,t){let n=Ee[l];t&&(e=e/d-(1==n.ori?Jl:Zl));let i=Ll;1==n.ori&&(i=Ol,e=i-e),-1==n.dir&&(e=i-e);let o=n._min,s=o+e/i*(n._max-o),r=n.distr;return 3==r?M(10,s):4==r?((e,l=1)=>g.sinh(e)*l)(s,n.asinh):100==r?n.bwd(s):s}function ci(e,l){Ye(ti,he,li.left=e),Ye(ti,ue,li.width=l)}function hi(e,l){Ye(ti,fe,li.top=e),Ye(ti,ae,li.height=l)}al&&zt&&Hl(_e,hl,e=>{sl._lock||(St(e),null!=ui&&oi(null,ai,!0,Hi.setSeries))}),m.valToIdx=l=>e(l,a[0]),m.posToIdx=function(l,t){return e(fi(l,Fe,t),a[0],en,ln)},m.posToVal=fi,m.valToPos=(e,l,t)=>0==Ee[l].ori?S(e,Ee[l],t?ht:Ll,t?it:0):E(e,Ee[l],t?dt:Ol,t?ft:0),m.setCursor=(e,l,t)=>{jn=e.left,Nn=e.top,xi(null,l,t)};let di=0==$e.ori?ci:hi,pi=1==$e.ori?ci:hi;function mi(e,l){if(null!=e&&(e.idxs?e.idxs.forEach((e,l)=>{il[l]=e}):(e=>void 0===e)(e.idx)||il.fill(e.idx),ol.idx=il[0]),al&&ol.live){for(let e=0;pe.length>e;e++)(e>0||1==b&&!wl)&&gi(e,il[e]);!function(){if(al&&ol.live)for(let e=2==b?1:0;pe.length>e;e++){if(0==e&&wl)continue;let l=ol.values[e],t=0;for(let n in l)xl[e][t++].firstChild.nodeValue=l[n]}}()}vt=!1,!1!==l&&Yi("setLegend")}function gi(e,l){let t,n=pe[e],i=0==e&&2==Ze?pn:a[e];wl?t=n.values(m,e,l)??bl:(t=n.value(m,null==l?null:i[l],e,l),t=null==t?bl:{_:t}),ol.values[e]=t}function xi(l,t,n){let i;Ln=jn,On=Nn,[jn,Nn]=sl.move(m,jn,Nn),sl.left=jn,sl.top=Nn,fl&&(Yn&&Ge(Yn,_(jn),0,Ll,Ol),Cn&&Ge(Cn,0,_(Nn),Ll,Ol)),si=D,ri=null;let o=0==$e.ori?Ll:Ol,s=1==$e.ori?Ll:Ol;if(0>jn||0==Qt||en>ln){i=sl.idx=null;for(let e=0;pe.length>e;e++){let l=Pt[e];null!=l&&Ge(l,-10,-10,Ll,Ol)}zt&&oi(null,ai,!0,null==l&&Hi.setSeries),ol.live&&(il.fill(i),vt=!0)}else{let l,t,n;1==b&&(l=0==$e.ori?jn:Nn,t=fi(l,Fe),i=sl.idx=e(t,a[0],en,ln),n=Je(a[0][i],$e,o,0));let r=-10,u=-10,f=0,c=0,h=!0,d="",p="";for(let e=2==b?1:0;pe.length>e;e++){let l=pe[e],g=il[e],x=null==g?null:1==b?a[e][g]:a[e][1][g],_=sl.dataIdx(m,e,i,t),k=null==_?null:1==b?a[e][_]:a[e][1][_];if(vt=vt||k!=x||_!=g,il[e]=_,e>0&&l.show){let t=null==_?-10:_==i?n:Je(1==b?a[0][_]:a[e][0][_],$e,o,0),g=null==k?-10:qe(k,1==b?Ee[l.scale]:Ee[l.facets[1].scale],s,0);if(zt&&null!=k){let t=1==$e.ori?jn:Nn,n=w(Et.dist(m,e,_,g,t));if(si>n){let i=Et.bias;if(0!=i){let o=fi(t,l.scale),s=0>o?-1:1;s!=(0>k?-1:1)||(1==s?1==i?o>k:k>o:1==i?k>o:o>k)||(si=n,ri=e)}else si=n,ri=e}}if(vt||Dt){let l,n;0==$e.ori?(l=t,n=g):(l=g,n=t);let i,o,s,a,x,w,b=!0,_=Tt.bbox;if(null!=_){b=!1;let l=_(m,e);s=l.left,a=l.top,i=l.width,o=l.height}else s=l,a=n,i=o=Tt.size(m,e);if(w=Tt.fill(m,e),x=Tt.stroke(m,e),Dt)e!=ri||si>Et.prox||(r=s,u=a,f=i,c=o,h=b,d=w,p=x);else{let l=Pt[e];null!=l&&(At[e]=s,Wt[e]=a,je(l,i,o,b),Le(l,w,x),Ge(l,v(s),v(a),Ll,Ol))}}}}if(Dt){let e=Et.prox;if(vt||(null==ui?e>=si:si>e||ri!=ui)){let e=Pt[0];null!=e&&(At[0]=r,Wt[0]=u,je(e,f,c,h),Le(e,d,p),Ge(e,v(r),v(u),Ll,Ol))}}}if(li.show&&Xn)if(null!=l){let[e,t]=Hi.scales,[n,i]=Hi.match,[r,u]=l.cursor.sync.scales,a=l.cursor.drag;if(Qn=a._x,ei=a._y,Qn||ei){let a,f,c,h,d,{left:p,top:m,width:g,height:x}=l.select,b=l.scales[r].ori,_=l.posToVal,v=null!=e&&n(e,r),y=null!=t&&i(t,u);v&&Qn?(0==b?(a=p,f=g):(a=m,f=x),c=Ee[e],h=Je(_(a,r),c,o,0),d=Je(_(a+f,r),c,o,0),di(k(h,d),w(d-h))):di(0,o),y&&ei?(1==b?(a=p,f=g):(a=m,f=x),c=Ee[t],h=qe(_(a,u),c,s,0),d=qe(_(a+f,u),c,s,0),pi(k(h,d),w(d-h))):pi(0,s)}else yi()}else{let e=w(Ln-Hn),l=w(On-Fn);if(1==$e.ori){let t=e;e=l,l=t}Qn=Kn.x&&e>=Kn.dist,ei=Kn.y&&l>=Kn.dist;let t,n,i=Kn.uni;null!=i?Qn&&ei&&(Qn=e>=i,ei=l>=i,Qn||ei||(l>e?ei=!0:Qn=!0)):Kn.x&&Kn.y&&(Qn||ei)&&(Qn=ei=!0),Qn&&(0==$e.ori?(t=Gn,n=jn):(t=In,n=Nn),di(k(t,n),w(n-t)),ei||pi(0,s)),ei&&(1==$e.ori?(t=Gn,n=jn):(t=In,n=Nn),pi(k(t,n),w(n-t)),Qn||di(0,o)),Qn||ei||(di(0,0),pi(0,0))}if(Kn._x=Qn,Kn._y=ei,null==l){if(n){if(null!=Fi){let[e,l]=Hi.scales;Hi.values[0]=null!=e?fi(0==$e.ori?jn:Nn,e):null,Hi.values[1]=null!=l?fi(1==$e.ori?jn:Nn,l):null}Ii(ge,m,jn,Nn,Ll,Ol,i)}if(zt){let e=n&&Hi.setSeries,l=Et.prox;null==ui?si>l||oi(ri,ai,!0,e):si>l?oi(null,ai,!0,e):ri!=ui&&oi(ri,ai,!0,e)}}vt&&(ol.idx=i,mi()),!1!==t&&Yi("setCursor")}m.setLegend=mi;let wi=null;function bi(e=!1){e?wi=null:(wi=K.getBoundingClientRect(),Yi("syncRect",wi))}function _i(e,l,t,n,i,o){sl._lock||Xn&&null!=e&&0==e.movementX&&0==e.movementY||(vi(e,l,t,n,i,o,0,!1,null!=e),null!=e?xi(null,!0,!0):xi(l,!0,!1))}function vi(e,l,t,n,i,o,s,r,u){if(null==wi&&bi(!1),St(e),null!=e)t=e.clientX-wi.left,n=e.clientY-wi.top;else{if(0>t||0>n)return jn=-10,void(Nn=-10);let[e,s]=Hi.scales,r=l.cursor.sync,[u,a]=r.values,[f,c]=r.scales,[h,d]=Hi.match,p=l.axes[0].side%2==1,m=0==$e.ori?Ll:Ol,g=1==$e.ori?Ll:Ol,x=p?o:i,w=p?i:o,b=p?n:t,_=p?t:n;if(t=null!=f?h(e,f)?P(u,Ee[e],m,0):-10:m*(b/x),n=null!=c?d(s,c)?P(a,Ee[s],g,0):-10:g*(_/w),1==$e.ori){let e=t;t=n,n=e}}!u||null!=l&&l.cursor.event.type!=ge||(t>1&&Ll-1>t||(t=O(t,Ll)),n>1&&Ol-1>n||(n=O(n,Ol))),r?(Hn=t,Fn=n,[Gn,In]=sl.move(m,t,n)):(jn=t,Nn=n)}Object.defineProperty(m,"rect",{get:()=>(null==wi&&bi(!1),wi)});const ki={width:0,height:0,left:0,top:0};function yi(){ni(ki,!1)}let Mi,Si,Ti,Ei;function zi(e,l,t,n,i,o){Xn=!0,Qn=ei=Kn._x=Kn._y=!1,vi(e,l,t,n,i,o,0,!0,!1),null!=e&&(Hl(we,ze,Di,!1),Ii(xe,m,Gn,In,Ll,Ol,null));let{left:s,top:r,width:u,height:a}=li;Mi=s,Si=r,Ti=u,Ei=a}function Di(e,l,t,n,i,o){Xn=Kn._x=Kn._y=!1,vi(e,l,t,n,i,o,0,!1,!0);let{left:s,top:r,width:u,height:a}=li,f=u>0||a>0,c=Mi!=s||Si!=r||Ti!=u||Ei!=a;if(f&&c&&ni(li),Kn.setScale&&f&&c){let e=s,l=u,t=r,n=a;if(1==$e.ori&&(e=r,l=a,t=s,n=u),Qn&&Yi("dragXEnd",fi(e,Fe),fi(e+l,Fe)),ei)for(let e in Ee){let l=Ee[e];e!=Fe&&null==l.from&&l.min!=D&&ii(e,fi(t+n,e),fi(t,e))}yi()}else sl.lock&&(sl._lock=!sl._lock,xi(l,!0,null!=e));null!=e&&(Fl(we,ze),Ii(we,m,jn,Nn,Ll,Ol,null))}function Pi(e){sl._lock||(St(e),xn(),yi(),null!=e&&Ii(ve,m,jn,Nn,Ll,Ol,null))}function Ai(){p()}Ue(ye,De,Ai);const Wi={};Wi.mousedown=zi,Wi.mousemove=_i,Wi.mouseup=Di,Wi.dblclick=Pi,Wi.setSeries=(e,l,t,n)=>{-1!=(t=(0,Hi.match[2])(m,l,t))&&oi(t,n,!0,!1)},fl&&(Hl(xe,K,zi),Hl(ge,K,_i),Hl(be,K,e=>{St(e),bi(!1)}),Hl(_e,K,function(e){if(sl._lock)return;St(e);let l=Xn;if(Xn){let e,l,t=!0,n=!0,i=10;0==$e.ori?(e=Qn,l=ei):(e=ei,l=Qn),e&&l&&(t=i>=jn||jn>=Ll-i,n=i>=Nn||Nn>=Ol-i),e&&t&&(jn=Gn>jn?0:Ll),l&&n&&(Nn=In>Nn?0:Ol),xi(null,!0,!0),Xn=!1}jn=-10,Nn=-10,il.fill(null),xi(null,!0,!0),l&&(Xn=l)}),Hl(ve,K,Pi),Ft.add(m),m.syncRect=bi);const Ri=m.hooks=l.hooks||{};function Yi(e,l,t){Un?Vn.push([e,l,t]):e in Ri&&Ri[e].forEach(e=>{e.call(null,m,l,t)})}(l.plugins||[]).forEach(e=>{for(let l in e.hooks)Ri[l]=(Ri[l]||[]).concat(e.hooks[l])});const Ci=(e,l,t)=>t,Hi=oe({key:null,setSeries:!1,filters:{pub:F,sub:F},scales:[Fe,pe[1]?pe[1].scale:null],match:[G,G,Ci],values:[null,null]},sl.sync);2==Hi.match.length&&Hi.match.push(Ci),sl.sync=Hi;const Fi=Hi.key,Gi=ct(Fi);function Ii(e,l,t,n,i,o,s){Hi.filters.pub(e,l,t,n,i,o,s)&&Gi.pub(e,l,t,n,i,o,s)}function Li(){Yi("init",l,a),gn(a||l.data,!1),Xe[Fe]?qn(Fe,Xe[Fe]):xn(),_t=li.show&&(li.width>0||li.height>0),bt=vt=!0,kt(l.width,l.height)}return Gi.sub(m),m.pub=function(e,l,t,n,i,o,s){Hi.filters.sub(e,l,t,n,i,o,s)&&Wi[e](null,l,t,n,i,o,s)},m.destroy=function(){Gi.unsub(m),Ft.delete(m),Yl.clear(),Ve(ye,De,Ai),I.remove(),hl?.remove(),Yi("destroy")},pe.forEach(Yt),ke.forEach(function(e,l){if(e._show=e.show,e.show){let t=Ee[e.scale];null==t&&(e.scale=e.side%2?pe[1].scale:Fe,t=Ee[e.scale]);let n=t.time;e.size=R(e.size),e.space=R(e.space),e.rotate=R(e.rotate),X(e.incrs)&&e.incrs.forEach(e=>{!U.has(e)&&U.set(e,V(e))}),e.incrs=R(e.incrs||(2==t.distr?rl:n?1==se?_l:yl:ul)),e.splits=R(e.splits||(n&&1==t.distr?el:3==t.distr?Vl:4==t.distr?$l:Ul)),e.stroke=R(e.stroke),e.grid.stroke=R(e.grid.stroke),e.grid.zeroStroke=null==e.grid.zeroStroke?e.grid.stroke:R(e.grid.zeroStroke),e.ticks.stroke=R(e.ticks.stroke),e.border.stroke=R(e.border.stroke);let i=e.values;e.values=X(i)&&!X(i[0])?R(i):n?X(i)?El(Ke,Tl(i,Qe)):Q(i)?function(e,l){let t=ll(l);return(l,n)=>n.map(l=>t(e(l)))}(Ke,i):i||tl:i||Bl,e.filter=R(e.filter||(3>t.distr||10!=t.log?3==t.distr&&2==t.log?et:C:Ql)),e.font=Xt(e.font,d),e.labelFont=Xt(e.labelFont,d),e._size=e.size(m,null,l,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(Ct[l]=!0,e._el=He("u-axis",N))}}),f?f instanceof HTMLElement?(f.appendChild(I),Li()):f(m,Li):Li(),m}Kt.assign=oe,Kt.fmtNum=m,Kt.rangeNum=c,Kt.rangeLog=s,Kt.rangeAsinh=r,Kt.orient=ht,Kt.pxRatio=Pe,Kt.join=function(e,l){if(function(e){let l=e[0][0],t=l.length;for(let n=1;e.length>n;n++){let i=e[n][0];if(i.length!=t)return!1;if(i!=l)for(let e=0;t>e;e++)if(i[e]!=l[e])return!1}return!0}(e)){let l=e[0].slice();for(let t=1;e.length>t;t++)l.push(...e[t].slice(1));return function(e,l=100){const t=e.length;if(1>=t)return!0;let n=0,i=t-1;for(;i>=n&&null==e[n];)n++;for(;i>=n&&null==e[i];)i--;if(n>=i)return!0;const o=y(1,b((i-n+1)/l));for(let l=e[n],t=n+o;i>=t;t+=o){const n=e[t];if(null!=n){if(l>=n)return!1;l=n}}return!0}(l[0])||(l=function(e){let l=e[0],t=l.length,n=Array(t);for(let e=0;n.length>e;e++)n[e]=e;n.sort((e,t)=>l[e]-l[t]);let i=[];for(let l=0;e.length>l;l++){let o=e[l],s=Array(t);for(let e=0;t>e;e++)s[e]=o[n[e]];i.push(s)}return i}(l)),l}let t=new Set;for(let l=0;e.length>l;l++){let n=e[l][0],i=n.length;for(let e=0;i>e;e++)t.add(n[e])}let n=[Array.from(t).sort((e,l)=>e-l)],i=n[0].length,o=new Map;for(let e=0;i>e;e++)o.set(n[0][e],e);for(let t=0;e.length>t;t++){let s=e[t],r=s[0];for(let e=1;s.length>e;e++){let u=s[e],a=Array(i).fill(void 0),f=l?l[t][e]:1,c=[];for(let e=0;u.length>e;e++){let l=u[e],t=o.get(r[e]);null===l?0!=f&&(a[t]=l,2==f&&c.push(t)):a[t]=l}se(a,c,i),n.push(a)}}return n},Kt.fmtDate=ll,Kt.tzDate=function(e,l){let t;return"UTC"==l||"Etc/UTC"==l?t=new Date(+e+6e4*e.getTimezoneOffset()):l==tl?t=e:(t=new Date(e.toLocaleString("en-US",{timeZone:l})),t.setMilliseconds(e.getMilliseconds())),t},Kt.sync=ct;{Kt.addGap=function(e,l,t){let n=e[e.length-1];n&&n[0]==l?n[1]=t:e.push([l,t])},Kt.clipGaps=gt;let e=Kt.paths={points:Pt};e.linear=Yt,e.stepped=function(e){const l=h(e.align,1),t=h(e.ascDesc,!1),n=h(e.alignGaps,0),o=h(e.extend,!1);return(e,s,r,u)=>{let{pxRatio:a}=e;return ht(e,s,(f,c,h,d,p,m,g,x,w,b,_)=>{[r,u]=i(h,r,u);let v=f.pxRound,{left:k,width:y}=e.bbox,M=e=>v(m(e,d,b,x)),S=e=>v(g(e,p,_,w)),T=0==d.ori?kt:yt;const E={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},z=E.stroke,D=d.dir*(0==d.ori?1:-1);let P=S(h[1==D?r:u]),A=M(c[1==D?r:u]),W=A,R=A;o&&-1==l&&(R=k,T(z,R,P)),T(z,A,P);for(let e=1==D?r:u;e>=r&&u>=e;e+=D){let t=h[e];if(null==t)continue;let n=M(c[e]),i=S(t);1==l?T(z,n,P):T(z,W,i),T(z,n,i),P=i,W=n}let Y=W;o&&1==l&&(Y=k+y,T(z,Y,P));let[C,H]=dt(e,s);if(null!=f.fill||0!=C){let l=E.fill=new Path2D(z),t=S(f.fillTo(e,s,f.min,f.max,C));T(l,Y,t),T(l,R,t)}if(!f.spanGaps){let i=[];i.push(...xt(c,h,r,u,D,M,n));let o=f.width*a/2,p=t||1==l?o:-o,m=t||-1==l?-o:o;i.forEach(e=>{e[0]+=p,e[1]+=m}),E.gaps=i=f.gaps(e,s,r,u,i),E.clip=gt(i,d.ori,x,w,b,_)}return 0!=H&&(E.band=2==H?[mt(e,s,r,u,z,-1),mt(e,s,r,u,z,1)]:mt(e,s,r,u,z,H)),E})}},e.bars=function(e){const l=h((e=e||Z).size,[.6,D,1]),t=e.align||0,n=e.gap||0;let i=e.radius;i=null==i?[0,0]:"number"==typeof i?[i,0]:i;const o=R(i),s=1-l[0],r=h(l[1],D),u=h(l[2],1),a=h(e.disp,Z),f=h(e.each,()=>{}),{fill:c,stroke:d}=a;return(e,l,i,p)=>{let{pxRatio:m}=e;return ht(e,l,(g,x,w,_,v,M,S,T,E,z,D)=>{let P,W,R=g.pxRound,C=t,H=n*m,F=r*m,G=u*m;0==_.ori?[P,W]=o(e,l):[W,P]=o(e,l);const I=_.dir*(0==_.ori?1:-1);let L,O,j,N=0==_.ori?Mt:St,B=0==_.ori?f:(e,l,t,n,i,o,s)=>{f(e,l,t,i,n,s,o)},U=h(e.bands,J).find(e=>e.series[0]==l),V=g.fillTo(e,l,g.min,g.max,null!=U?U.dir:0),$=R(S(V,v,D,E)),Z=z,q=R(g.width*m),X=!1,K=null,Q=null,ee=null,le=null;null==c||0!=q&&null==d||(X=!0,K=c.values(e,l,i,p),Q=new Map,new Set(K).forEach(e=>{null!=e&&Q.set(e,new Path2D)}),q>0&&(ee=d.values(e,l,i,p),le=new Map,new Set(ee).forEach(e=>{null!=e&&le.set(e,new Path2D)})));let{x0:te,size:ne}=a;if(null!=te&&null!=ne){C=1,x=te.values(e,l,i,p),2==te.unit&&(x=x.map(l=>e.posToVal(T+l*z,_.key,!0)));let t=ne.values(e,l,i,p);O=2==ne.unit?t[0]*z:M(t[0],_,z,T)-M(0,_,z,T),Z=Ct(x,w,M,_,z,T,Z),j=Z-O+H}else Z=Ct(x,w,M,_,z,T,Z),j=Z*s+H,O=Z-j;1>j&&(j=0),O/2>q||(q=0),5>j&&(R=Y);let ie=j>0;O=R(A(Z-j-(ie?q:0),G,F)),L=(0==C?O/2:C==I?0:O)-C*I*((0==C?H/2:0)+(ie?q/2:0));const oe={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},se=X?null:new Path2D;let re=null;if(null!=U)re=e.data[U.series[1]];else{let{y0:t,y1:n}=a;null!=t&&null!=n&&(w=n.values(e,l,i,p),re=t.values(e,l,i,p))}let ue=P*O,ae=W*O;for(let t=1==I?i:p;t>=i&&p>=t;t+=I){let n=w[t];if(null==n)continue;if(null!=re){let e=re[t]??0;if(n-e==0)continue;$=S(e,v,D,E)}let i=M(2!=_.distr||null!=a?x[t]:t,_,z,T),o=S(h(n,V),v,D,E),s=R(i-L),r=R(y(o,$)),u=R(k(o,$)),f=r-u;if(null!=n){let i=0>n?ae:ue,o=0>n?ue:ae;X?(q>0&&null!=ee[t]&&N(le.get(ee[t]),s,u+b(q/2),O,y(0,f-q),i,o),null!=K[t]&&N(Q.get(K[t]),s,u+b(q/2),O,y(0,f-q),i,o)):N(se,s,u+b(q/2),O,y(0,f-q),i,o),B(e,l,t,s-q/2,u,O+q,f)}}return q>0?oe.stroke=X?le:se:X||(oe._fill=0==g.width?g._fill:g._stroke??g._fill,oe.width=0),oe.fill=X?Q:se,oe})}},e.spline=function(e){return function(e,l){const t=h(l?.alignGaps,0);return(l,n,o,s)=>ht(l,n,(r,u,a,f,c,h,d,p,m,g,x)=>{[o,s]=i(a,o,s);let w,b,_,v=r.pxRound,k=e=>v(h(e,f,g,p)),y=e=>v(d(e,c,x,m));0==f.ori?(w=_t,_=kt,b=zt):(w=vt,_=yt,b=Dt);const M=f.dir*(0==f.ori?1:-1);let S=k(u[1==M?o:s]),T=S,E=[],z=[];for(let e=1==M?o:s;e>=o&&s>=e;e+=M)if(null!=a[e]){let l=k(u[e]);E.push(T=l),z.push(y(a[e]))}const D={stroke:e(E,z,w,_,b,v),fill:null,clip:null,band:null,gaps:null,flags:1},P=D.stroke;let[A,W]=dt(l,n);if(null!=r.fill||0!=A){let e=D.fill=new Path2D(P),t=y(r.fillTo(l,n,r.min,r.max,A));_(e,T,t),_(e,S,t)}if(!r.spanGaps){let e=[];e.push(...xt(u,a,o,s,M,k,t)),D.gaps=e=r.gaps(l,n,o,s,e),D.clip=gt(e,f.ori,p,m,g,x)}return 0!=W&&(D.band=2==W?[mt(l,n,o,s,P,-1),mt(l,n,o,s,P,1)]:mt(l,n,o,s,P,W)),D})}(Ht,e)}}return Kt}();
